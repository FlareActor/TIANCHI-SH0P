[比赛地址](https://tianchi.aliyun.com/competition/introduction.htm?spm=5176.100066.0.0.1f68f2a4GCzMqa&raceId=231620)

## 基本思路：
* 类似摩拜赛，按照时间先后划分训练集和线下验证集，使用规则/模型构造负样本并训练分类器，对测试集同样构造候选集并选择置信度最大的作为结果（二分类）
* 每个mall构建一个分类器（多分类）
* 多分类结果构造候选，再送入二分类

## 想法：
* 多分类结果的概率信息加入二分类特征（提高1个百分点）
* wifi_bssid Embedding/Hash Trick（失败）
* 多分类中，对wifi矩阵进行降维，方差筛选（提高速度）
* validation+early_stopping能否提高（多分类貌似下降，二分类效果提升将近2个千）
* 用户历史
* lambdarank（怎么度量候选集之间的rank）
* 用户在该店铺最近一次消费时间距离当前时间的距离
* 二分类（Mine）+多分类（电科）融合，概率归一化后融合，否则量纲不同（将近3个千）

* rfd2参与候选集筛选。在保证覆盖率的情况下减少候选集数量：rfd2 top10+geo9 top10（复赛由大约1:18降至1:11，覆盖率都差一点到98%，大约1个多百）
* 按照row_id特征归一化（比例化，复赛大约提高1个多百）

## Cautions：
* 线下验证集采样，尽量让线下和线上同步（目前用最后2天当线下验证，基本同步）
* 多个mall都出现的wifi，可能是ChinaNet流；移动热点（强度-1）
* 用户手机定位漂移
* 初赛大约23个mall正确率奇差，应该着重分析

## 交流群分享：
* 分时段+周末/非周末（时间多粒度构造特征）
* wifi rank

## 数加：
* 敏捷数据分析：组件模块化、数据结构化
